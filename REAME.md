# Δομή της εργασίας#
Η εργασία απαρτίζεται από 3 αρχεία:
- main.c που περιέχει τη βασική συνάρτηση εκτέλεσης του προγράμματος και τη main loop του υλοποιημένου κελύφους.
- modules.c που περιέχει τις υλοποιημένες συναρτήσεις της εργασίας.
- modules.h

# main() #
Η main() καλεί τη mysh_loop().

# mysh_loop() #
Η mysh_loop() διαβάζει επαναληπτικά τις εντολές του χρήστη, της ερμηνευεί και είτε τις έκτελει είτε δημιουργεί ένα αντιγραφό της τρέχουσας διαδικασίας και αναθέτει την εκτέλση της εντολής στη συνάρτηση main_execution() για εκτέλεση. Η επανάληψη αυτή σταματάει όταν ο χρήστης δώσει την εντολή exit.
Οι εντολές που εκτελούνται είναι
- exit, ώστε να γίνει έξοδος από τη διεργασία που εκτελείται το shell.
- createalias/ destroyalias, ώστε να ενημερώνεται ο vector της διεργασίας που εκτελείται το shell. 
- Ευρευσή των alias στην εντολή εκτέλεσης. Να σημειωθεί ότι πρώτα εκετελείται η εντολή destroyalias και μετά η αντικατάσταση των alias στην εντολή.
- myHistory i, εδώ γίνεται ο εντοπισμός της i-στης εντολής, ώστε μετά να μπορεί να προστεθεί στο ιστορικό.
- 
- Ενημέρωση του ιστορικού, ώστε να ενημερώνεται ο vector της διεργασίας που εκτελείται το shell.

Parser:
Το προγραμμά λαμβάνει μία εντολή από το χρήστη με τη getline. 
Έπειτα, χωρίζει τη γραμμή σε εντολές με τη χρήση της strtok και με delimiter to ;
Στη συνέχεια, χωρίζει την κάθε εντολή σε tokens, με τη χρήση stringstream, και την εκτελεί. Οι υποσυμβολοσειρές μεσά σε " " ερμηνεύονται ως ενα token και αποθηκεύονται χωρίς τα " ".

Signals: 
Στην διεργασία που φιλοξενεί στο shell, εφαρμόζεται SIG_IGN για τα σήματα control-C και control-Ζ, ενώ όταν γίνεται fork, στη διαδικασία παιδί στην οποία εκτελούνται οι εντολές εφαρμόζεται SIG_DFL ώστε σε αυτές να μπορέσουν να εφαρμοστπύν τα σήματα.

# main_execution()#
Η συνάρτηση αυτή ελέγει αν η εντολή που δώθηκε 
- είτε πρέπει να εκτελεστεί στο backround, είτε περιέχει κάποια ανακατεύθυνση, ετίτε περιέχει κάποιο pipe, είτε είναι ls και συμβολοσειρά με wild characters που τοτέ τις προωθεί στις κατάλληλες συναρτήσεις χειρισμού, 
- είτε ελέγχει αν είναι η εντολή myHistory, που σε αυτή τη περίπτωση την εκτελεί, 
- είτε ελέγχει αν είναι εντολή aliasing, που σε αυτή τη περίπτωση την αγνοεί.
Σε όλες τις περιπτώσεις αυτές η συάρτηση αυτή επιστρέφει 0.
Στη περίπτωση που δωθεί ως όρισμα μια απλή εντολή εκτέλεσης, η συνάτηση επιστρέφει 1, ώστε η συνάρτηση που την κάλεσε να επιλέξει αν θέλει να την εκτελέσει κάνοντας fork (συνάρτηση execute), ή χωρίς (συνάρτηση execute_without_fork).

Η συνάρτηση αυτή δε χρησιμοποιείται μόνο από τη mysh_loop, αλλά και από τις συναρτήσεις execute_bg, redirection_output, redirection_output_double, redirection_input, handle_pipes για να χειριστούν τις υποεντολές που περιέχουν οι εντολές που έλαβαν ως όρισμα.

# Ανακατεύθυνση #
- Ανακατεύθυνση εισόδου  
Υλοποιείται με τη συνάρτηση redirection_input, η οποία 
    - ανοίγει το ζητούμενο αρχείο μόνο για ανάγνωση
    - αποθηκεύει το STDIN_FILENO για να το επαναφέρει αργότερα
    - ανακατευθύνει το input στο ζητούμενο αρχείο
    - εκτελεί τις ενέργειες που πρέπει να εκτελεστούν με βάση το κομμάτι της εντολής που δεν    περιέχει ανακατεύθυνση. Στη περίπτωση απλής εντολής επιλέγεται εκτέλεση με fork, διότι δεν γίνεται fork κάπου αλλού στο πλαίσιο της συγκεκριμένης εντολής
    - επαναφέρει το STDIN_FILENO στο input
    - κλείνει το αρχείο

- Ανακατεύθυνση εξόδου 
Υλοποιείται με τη συνάρτηση redirection_output, η οποία 
    - ανοίγει το ζητούμενο αρχείο για γράψιμο, χωρίς append
    - αποθηκεύει το STDOUT_FILENO για να το επαναφέρει αργότερα
    - ανακατευθύνει το output στο ζητούμενο αρχείο
    - εκτελεί τις ενέργειες που πρέπει να εκτελεστούν με βάση το κομμάτι της εντολής που δεν    περιέχει ανακατεύθυνση. Στη περίπτωση απλής εντολής επιλέγεται εκτέλεση με fork, διότι δεν γίνεται fork κάπου αλλού στο πλαίσιο της συγκεκριμένης εντολής
    - επαναφέρει το STDOUT_FILENO στο output
    - κλείνει το αρχείο

- Ανακατεύθυνση εξόδου προσθήκης σε υπάρχον αρχείο
Υλοποιείται με τη συνάρτηση redirection_output_double, η οποία 
    - ανοίγει το ζητούμενο αρχείο για γράψιμο, με append
    - αποθηκεύει το STDOUT_FILENO για να το επαναφέρει αργότερα
    - ανακατευθύνει το output στο ζητούμενο αρχείο
    - εκτελεί τις ενέργειες που πρέπει να εκτελεστούν με βάση το κομμάτι της εντολής που δεν    περιέχει ανακατεύθυνση. Στη περίπτωση απλής εντολής επιλέγεται εκτέλεση με fork, διότι δεν γίνεται fork κάπου αλλού στο πλαίσιο της συγκεκριμένης εντολής
    - επαναφέρει το STDOUT_FILENO στο output
    - κλείνει το αρχείο

# Σωλήνωση #
Υλοποιείται με τη συνάρτηση handle_pipes, η οποία 
    - εντοπίζει την πρώτη | απότα αριστερά στην εντολή που δώθηκε και χωρίζει την εντολή σε 2 εντολές με βάση αυτή
    - ξεκινάει την υλοποίηση του pipe με τις εντολές int fd[2]; pipe(fd);
    - στη συνέχεια, εκτελεί ένα fork 
    - στη διαδικασία παιδί , ανατίτεθαι το input του pipe, κλείνουν τα άκρα του pipe που δε χρειάζονται και εκτελείται η "αριστερή" εντολή
    - στη διαδικασία γονίος εκτελεί άλλο ένα fork 
    - στη νέα διαδικασία παιδί, ανατίτεθαι το input του pipe, κλείνουν τα άκρα του pipe που δε χρειάζονται και εκτελείται η "δεξία" εντολή
    - τέλος, στη διαδικασία γονιός κλείνει τα άκρα του pipe και περιμένει τις διεργασίες παιδιά να ολοκληρωθούν.
Στη περίπτωση απλής εντολής επιλέγεται εκτέλεση χωρίς fork, διότι γίνεται fork νωρίτερα.


